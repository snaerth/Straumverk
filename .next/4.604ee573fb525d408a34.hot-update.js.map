{"version":3,"sources":["/Users/snaerthoroddsson/Projects/new_nordic/pages/index.js"],"names":["Index","req","store","lang","cookies","fetch","res","json","payload","translations","dispatch","type","t","mapStateToProps","state","common","mapDispatchToProps","setTranslations","bindActionCreators","withRedux"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;IAEMA,K;;;;;;;;;;;6BAcK;AACP,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACE;AAAC,2DAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WADF;AAEE,gFAAM,MAAK,UAAX,EAAsB,SAAQ,uCAA9B;AAAA;AAAA;AAAA;AAAA,YAFF;AAGE,gFAAM,KAAI,YAAV,EAAuB,MAAK,2BAA5B;AAAA;AAAA;AAAA;AAAA;AAHF,SADF;AAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACE,sEAAC,uEAAD;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AAEE,sEAAC,iEAAD,IAAM,OAAM,oBAAZ;AAAA;AAAA;AAAA;AAAA;AAFF;AANF,OADF;AAaD;;;;;;;;;;YA3B8BC,G,QAAAA,G;YAAKC,K,QAAAA,K;;;;;;AAC5BC,oB,GAAOF,IAAIG,OAAJ,CAAYD,IAAZ,IAAoB,I;;uBACfE,MAAS,uBAAT,qBAA8CF,IAA9C,W;;;AAAZG,mB;;uBACaA,IAAIC,IAAJ,E;;;AAAbA,oB;AACAC,uB,GAAU;AACdL,4BADc;AAEdM,gCAAcF;AAFA,iB;;;AAKhBL,sBAAMQ,QAAN,CAAe,EAAEC,MAAM,+DAAR,EAAkBH,gBAAlB,EAAf;iDACO,EAAEI,GAAGL,IAAL,EAAWJ,UAAX,E;;;;;;;;;;;;;;;;;;;EAXS,gD;;AA+BpB;;;;;;;AAKA,SAASU,eAAT,CAAyBC,KAAzB,EAAgC;AAAA,sBACCA,MAAMC,MADP;AAAA,MACtBN,YADsB,iBACtBA,YADsB;AAAA,MACRN,IADQ,iBACRA,IADQ;;AAE9B,SAAO;AACLA;AADK,GAAP;AAGD;;AAED;;;;;AAKA,SAASa,kBAAT,CAA4BN,QAA5B,EAAsC;AACpC,SAAO;AACLO,qBAAiB,yEAAAC,CAAmB,wEAAnB,EAAoCR,QAApC;AADZ,GAAP;AAGD;;eAEc,0DAAAS,CAAU,8DAAV,EAA0BN,eAA1B,EAA2CG,kBAA3C,EAA+DhB,KAA/D,C;;AAAf;;;;;;;;;;;;0BAtDMA,K;0BAoCGa,e;0BAYAG,kB","file":"4.604ee573fb525d408a34.hot-update.js","sourcesContent":["import React, { Component } from 'react';\nimport Head from 'next/head';\nimport { bindActionCreators } from 'redux';\nimport withRedux from 'next-redux-wrapper';\nimport { setTranslations } from '../common/actions';\nimport { SET_LANG } from '../common/types';\nimport configureStore from '../common/store';\nimport Navigation from '../components/navigation';\nimport Hero from '../components/hero';\nimport 'isomorphic-unfetch';\n\nclass Index extends Component {\n  static async getInitialProps({ req, store }) {\n    const lang = req.cookies.lang || 'is';\n    const res = await fetch(`${process.env.LOCAL_URL}/static/lang/${lang}.json`);\n    const json = await res.json();\n    const payload = {\n      lang,\n      translations: json,\n    };\n\n    store.dispatch({ type: SET_LANG, payload });\n    return { t: json, lang };\n  }\n\n  render() {\n    return (\n      <div>\n        <Head>\n          <title>New Nordic</title>\n          <meta name=\"viewport\" content=\"initial-scale=1.0, width=device-width\" />\n          <link rel=\"stylesheet\" href=\"/static/css/bulma.min.css\" />\n        </Head>\n        <main>\n          <Navigation />\n          <Hero title=\"New Nordic company\" />\n        </main>\n      </div>\n    );\n  }\n}\n\n/**\n * Maps redux state to props\n *\n * @param {Object} state\n */\nfunction mapStateToProps(state) {\n  const { translations, lang } = state.common;\n  return {\n    lang,\n  };\n}\n\n/**\n * Maps dispatch to props\n *\n * @param {Object} state\n */\nfunction mapDispatchToProps(dispatch) {\n  return {\n    setTranslations: bindActionCreators(setTranslations, dispatch),\n  };\n}\n\nexport default withRedux(configureStore, mapStateToProps, mapDispatchToProps)(Index);\n\n\n\n// WEBPACK FOOTER //\n// ./pages/index.js"],"sourceRoot":""}